---
layout: post
title: '公司架构设计交流分享记录'
date: 2014-07-23 14:54
comments: true
categories: [架构设计]
---
架构交流-李炜
#1 什么是架构设计
主讲人分三点阐述：

* 架构是阐述结构与结构之间的关系与通信
* 还是一个过程，关注过程中人的重要性
* 关注风险，把实施过程中的风险提前暴露出来，并通过架构设计规避

#2 架构设计的过程
##2.1 瀑布
在小型且需求明确的项目中，可以使用简单的瀑布模型，也就是系统概念化、系统需求分析、概要设计、详细设计、实施与测试、验收与结项。
##2.2 增量式
增量式为先完成整个系统中的某个模块，慢慢的在架构上增量的增加内容。
##2.3 迭代式
开始先简单设计，完成一个比较粗糙的原型，再在这个基础上做迭代的扩展。
#3 如何驱动架构设计
这个在不同的软件开发过程，不同的架构师，就有不同的理解。主讲人的团队是采用RUP的开发模式，所以他们基本以用例和质量为驱动，以过程为导向。
而Scrum敏捷开发中大多数情况是以测试为驱动，以用户故事为导向，而在我当前项目中，软件过程虽然为敏捷，但是执行的比较不彻底，也额米有具体的驱动方式，大多数情况还是跟着业务需要走，所以为业务导向，因此也处于比较被动的驱动状况。
#4 如何验证架构设计
##4.1 技术预研
如果各个模块用到的技术存在外部的技术框架，那么需要做前期的技术预研，通过技术、特征二维表的方式，列举出各个技术的优劣，然后通过评审的方式决定。
##4.2 测试
通过测试，在特定的测试环境中，用测试DEMO运行的方式，发现架构的问题所在，比如性能的瓶颈是在磁盘吞吐还是并发上。
#5 架构设计关注什么
##5.1 功能需求
主讲人拿了调度引擎模块的需求来做案例，主要是需要关注功能需求中哪些因素是变化的，哪些因素是不变的，比如调度引擎的作业和作业之间的逻辑关系，就是变化的因素。
还要关注需求的关键点，比如调度引擎的作业可以并发，也可以同步执行。
##5.2 非功能性需求
比如，需要关注系统的质量，包括稳定性、安全性、鲁棒性、可扩展性、可维护性、易用性等。
##5.3 约束
约束的因素角度，作者大概阐述几点，这些约束就是一个框框，架构师必须在这个框框内衡量，在各种约束中做取舍，做平衡。
###5.3.1 技术环境
比如，用户提出必须用JAVA开发。
###5.3.2 业务环境
比如，使用的技术或者成果是受保护的专业知识产权。
###5.3.3 构建环境
比如，需要根据研发团队和现场交互团队的能力衡量架构实施的难易度。
###5.3.4 使用环境
比如用户提出，需要兼容IE6，或者需要在平板上也能正常浏览。
###5.3.5 易用性问题
这里的易用性不是指产品经理关注的易用性问题，而是构建、部署的易用性问题。
#6 什么时候开始做架构设计
主讲人阐述，在项目启动过程中就需要介入。
#7 怎么表达我们的架构
##7.1 分层
大多数情况看到的架构就是系统各个模块之间的分层，通过分层展现他们之前的依赖关系。
##7.2 4+1视图
该方法为RUP开发中的工具，个人RUP就是以用例、质量为驱动，基于构件，注意UML等工具建模，以架构为中心、迭代增量。
###7.2.1 逻辑视图
如何根据功能需求、非功能需求划分你的模块，梳理各个模块之间的关系与通信机制。
###7.2.2 开发视图
关注质量，包括扩展性、重用性、移植性、易用性、易测试性等。
###7.2.3 处理视图
处理视图关注进程、线程、对象等运行时概念，以及相关的并发、同步、通信等问题，经常通过时序图方式来做。
###7.2.4 物理视图
如何部署，部署到哪些机器上。
###7.2.5 场景视图
主讲人未讲，或者我漏了这块。

#8 架构师分类
##8.1 PPT架构师
只通过PPT，对系统模块进行简单的分层。
##8.2 集成架构师
只是简单的把市面上出现的技术方案集成到一起。
##8.3 创作型架构师
真正的架构师应该是才华横溢，像一个作家一样。这点我非常赞同，格雷厄姆的《黑客与画家》也阐述了软件设计是多么具有创造性的一个职业。
#9 如何实现设计         
主讲人分三点阐述：

* 先做接口，再做抽象类，可以避免包与包的依赖关系
* 包从下往上设计，接口从上往下设计
* 包的接口放包外，消除包与包的依赖关系

#10 案例
模块的类型无非三种，高并发、高吞吐以及高并发高吞吐。
在高并发高吞吐的情况下就可以做一种架构，就是把高并发转换成高吞吐，采用反应堆设计模式和广告过滤器模式通过异步的方式做。
##10.1 反应堆设计模式
按作者的阐述，我理解就相当于去饭店吃饭，里面已经满客了，外面就有一个服务员（线程）专门负责给来到的客人（请求）排号，排号后安排相应的接待员（处理器）去负责给予点菜。
##10.2 广告过滤器模式
这个中间离开了一会，不是很理解，百度也没找到相应的问题，我理解就是通过一层一层的过滤，将信息拦截后再通过一定规则转发到下一层。
